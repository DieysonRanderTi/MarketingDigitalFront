{"ast":null,"code":"import { FormControl } from '@angular/forms';\nimport { tap, map, filter, distinctUntilChanged, debounceTime } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Services/AnuncioService\";\nimport * as i2 from \"ngx-spinner\";\nexport class PesquisaComponent {\n  constructor(anuncioService, spinner) {\n    this.anuncioService = anuncioService;\n    this.spinner = spinner;\n    this.descricao = \"\";\n    this.anuncios = [];\n    this.queryFiled = new FormControl();\n  }\n  ngOnInit() {\n    this.queryFiled.valueChanges.pipe(map(value => value.trim()), filter(value => value.length >= 3), debounceTime(200), distinctUntilChanged(), tap(value => console.log(value))\n    // switchMap( value => )\n    ).subscribe();\n  }\n  buscarAnunciosPorDescricao() {\n    debugger;\n    this.spinner.show();\n    this.anuncioService.BuscarTodosAnunciosOuPorDescricao(this.descricao).subscribe(result => {\n      debugger;\n      if (result != null) this.anuncios = result;\n      setTimeout(() => {\n        this.spinner.hide();\n      }, 500);\n    }, erro => {\n      alert('Erro ao buscar os anúncios.');\n      this.spinner.hide();\n    });\n  }\n}\nPesquisaComponent.ɵfac = function PesquisaComponent_Factory(t) {\n  return new (t || PesquisaComponent)(i0.ɵɵdirectiveInject(i1.AnuncioService), i0.ɵɵdirectiveInject(i2.NgxSpinnerService));\n};\nPesquisaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PesquisaComponent,\n  selectors: [[\"app-pesquisa\"]],\n  decls: 0,\n  vars: 0,\n  template: function PesquisaComponent_Template(rf, ctx) {},\n  styles: [\".menu[_ngcontent-%COMP%] {\\r\\n  position: fixed;\\r\\n  width: auto;\\r\\n}\\r\\n\\r\\n.logo[_ngcontent-%COMP%]{\\r\\n  font-size: 18px;\\r\\n  \\r\\n  color: white;\\r\\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\\r\\n  font-weight: bold;\\r\\n  border-radius: 15px;\\r\\n  padding-top: 5px;\\r\\n  padding-bottom: 10px;\\r\\n  padding-left: 5px;\\r\\n  padding-right: 5px;\\r\\n  margin-right: 20px;\\r\\n}\\r\\n\\r\\n.subTitleLogo[_ngcontent-%COMP%]{\\r\\n  font-size: 10px;\\r\\n  font-style: italic;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvQ29tcG9uZW50cy9wYWdpbmEtcHJpbmNpcGFsL3Blc3F1aXNhL3Blc3F1aXNhLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxlQUFlO0VBQ2YsV0FBVztBQUNiOztBQUVBO0VBQ0UsZUFBZTtFQUNmLDZCQUE2QjtFQUM3QixZQUFZO0VBQ1osNERBQTREO0VBQzVELGlCQUFpQjtFQUNqQixtQkFBbUI7RUFDbkIsZ0JBQWdCO0VBQ2hCLG9CQUFvQjtFQUNwQixpQkFBaUI7RUFDakIsa0JBQWtCO0VBQ2xCLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGVBQWU7RUFDZixrQkFBa0I7QUFDcEIiLCJzb3VyY2VzQ29udGVudCI6WyIubWVudSB7XHJcbiAgcG9zaXRpb246IGZpeGVkO1xyXG4gIHdpZHRoOiBhdXRvO1xyXG59XHJcblxyXG4ubG9nb3tcclxuICBmb250LXNpemU6IDE4cHg7XHJcbiAgLyogYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7ICovXHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIGZvbnQtZmFtaWx5OiAnU2Vnb2UgVUknLCBUYWhvbWEsIEdlbmV2YSwgVmVyZGFuYSwgc2Fucy1zZXJpZjtcclxuICBmb250LXdlaWdodDogYm9sZDtcclxuICBib3JkZXItcmFkaXVzOiAxNXB4O1xyXG4gIHBhZGRpbmctdG9wOiA1cHg7XHJcbiAgcGFkZGluZy1ib3R0b206IDEwcHg7XHJcbiAgcGFkZGluZy1sZWZ0OiA1cHg7XHJcbiAgcGFkZGluZy1yaWdodDogNXB4O1xyXG4gIG1hcmdpbi1yaWdodDogMjBweDtcclxufVxyXG5cclxuLnN1YlRpdGxlTG9nb3tcclxuICBmb250LXNpemU6IDEwcHg7XHJcbiAgZm9udC1zdHlsZTogaXRhbGljO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"AAIA,SAASA,WAAW,QAAQ,gBAAgB;AAE5C,SAASC,GAAG,EAAEC,GAAG,EAAEC,MAAM,EAAEC,oBAAoB,EAAEC,YAAY,QAAkB,gBAAgB;;;;AAQ/F,OAAM,MAAOC,iBAAiB;EAM5BC,YACUC,cAA8B,EAC9BC,OAA0B;IAD1B,mBAAc,GAAdD,cAAc;IACd,YAAO,GAAPC,OAAO;IANjB,cAAS,GAAW,EAAE;IACf,aAAQ,GAAc,EAAE;IAC/B,eAAU,GAAG,IAAIT,WAAW,EAAE;EAIS;EAEvCU,QAAQ;IACN,IAAI,CAACC,UAAU,CAACC,YAAY,CAC3BC,IAAI,CACHX,GAAG,CAACY,KAAK,IAAIA,KAAK,CAACC,IAAI,EAAE,CAAC,EAC1BZ,MAAM,CAACW,KAAK,IAAIA,KAAK,CAACE,MAAM,IAAI,CAAC,CAAC,EAClCX,YAAY,CAAC,GAAG,CAAC,EACjBD,oBAAoB,EAAE,EACtBH,GAAG,CAACa,KAAK,IAAIG,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IAC/B;IAAA,CACD,CAACK,SAAS,EAAE;EACf;EAEAC,0BAA0B;IACxB;IAEA,IAAI,CAACX,OAAO,CAACY,IAAI,EAAE;IACnB,IAAI,CAACb,cAAc,CAACc,iCAAiC,CAAC,IAAI,CAACC,SAAS,CAAC,CAACJ,SAAS,CAC5EK,MAAW,IAAI;MACd;MACA,IAAIA,MAAM,IAAI,IAAI,EAAE,IAAI,CAACC,QAAQ,GAAGD,MAAM;MAC1CE,UAAU,CAAC,MAAK;QACd,IAAI,CAACjB,OAAO,CAACkB,IAAI,EAAE;MACrB,CAAC,EAAE,GAAG,CAAC;IACT,CAAC,EACAC,IAAI,IAAI;MACPC,KAAK,CAAC,6BAA6B,CAAC;MACpC,IAAI,CAACpB,OAAO,CAACkB,IAAI,EAAE;IACrB,CAAC,CACF;EACH;;AAvCWrB,iBAAiB;mBAAjBA,iBAAiB;AAAA;AAAjBA,iBAAiB;QAAjBA,iBAAiB;EAAAwB;EAAAC;EAAAC;EAAAC;EAAAC;AAAA","names":["FormControl","tap","map","filter","distinctUntilChanged","debounceTime","PesquisaComponent","constructor","anuncioService","spinner","ngOnInit","queryFiled","valueChanges","pipe","value","trim","length","console","log","subscribe","buscarAnunciosPorDescricao","show","BuscarTodosAnunciosOuPorDescricao","descricao","result","anuncios","setTimeout","hide","erro","alert","selectors","decls","vars","template","styles"],"sourceRoot":"","sources":["D:\\projetos\\MarketingFront\\MarketingAppFront\\src\\app\\Components\\pagina-principal\\pesquisa\\pesquisa.component.ts"],"sourcesContent":["import { AnuncioService } from 'src/app/Services/AnuncioService';\nimport { Component, OnInit } from '@angular/core';\nimport { Anuncio } from 'src/app/Models/Anuncio';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { FormControl } from '@angular/forms';\nimport { __values } from 'tslib';\nimport { tap, map, filter, distinctUntilChanged, debounceTime, switchMap} from 'rxjs/operators';\n\n\n@Component({\n  selector: 'app-pesquisa',\n  templateUrl: './pesquisa.component.html',\n  styleUrls: ['./pesquisa.component.css'],\n})\nexport class PesquisaComponent implements OnInit {\n\n  descricao: string = \"\";\n  public anuncios: Anuncio[] = [];\n  queryFiled = new FormControl();\n\n  constructor(\n    private anuncioService: AnuncioService,\n    private spinner: NgxSpinnerService) {}\n\n  ngOnInit(): void {\n    this.queryFiled.valueChanges\n    .pipe(\n      map(value => value.trim()),\n      filter(value => value.length >= 3),\n      debounceTime(200),\n      distinctUntilChanged(),\n      tap(value => console.log(value))\n      // switchMap( value => )\n    ).subscribe();\n  }\n\n  buscarAnunciosPorDescricao() {\n    debugger;\n\n    this.spinner.show();\n    this.anuncioService.BuscarTodosAnunciosOuPorDescricao(this.descricao).subscribe(\n      (result: any) => {\n        debugger;\n        if (result != null) this.anuncios = result;\n        setTimeout(() =>{\n          this.spinner.hide();\n        }, 500);\n      },\n      (erro) => {\n        alert('Erro ao buscar os anúncios.');\n        this.spinner.hide();\n      }\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}