{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/Services/AnuncioService\";\nimport * as i3 from \"./../../../Services/CategoriaService\";\nimport * as i4 from \"ngx-toastr\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"ngx-spinner\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"ngx-mask\";\nfunction CadastrarAnuncioComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵtext(1, \" Descri\\u00E7\\u00E3o \\u00E9 obrigat\\u00F3ria \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CadastrarAnuncioComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵtext(1, \" Descri\\u00E7\\u00E3o deve ter no m\\u00EDnimo 4 caracteres \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CadastrarAnuncioComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵtext(1, \" Descri\\u00E7\\u00E3o deve ter no m\\u00E1ximo 150 caracteres \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CadastrarAnuncioComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵtext(1, \" Escolha uma data de validade para o an\\u00FAncio \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CadastrarAnuncioComponent_option_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 27);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r4.anuncio.categoria.descricao);\n  }\n}\nfunction CadastrarAnuncioComponent_option_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 28);\n    i0.ɵɵtext(1, \" Selecione \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CadastrarAnuncioComponent_option_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const categoria_r11 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(categoria_r11.descricao);\n  }\n}\nfunction CadastrarAnuncioComponent_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵtext(1, \" Escolha uma categoria para o an\\u00FAncio \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CadastrarAnuncioComponent_div_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵtext(1, \" Defina um pre\\u00E7o para o an\\u00FAncio \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CadastrarAnuncioComponent_div_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵtext(1, \" Escolha uma imagem para o an\\u00FAncio \");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"is-invalid\": a0\n  };\n};\nconst _c1 = function () {\n  return [\"/gerencial-empresa\"];\n};\nexport class CadastrarAnuncioComponent {\n  constructor(fb, anuncioservice, categoriaService, toast, route, anuncioService, spinner) {\n    this.fb = fb;\n    this.anuncioservice = anuncioservice;\n    this.categoriaService = categoriaService;\n    this.toast = toast;\n    this.route = route;\n    this.anuncioService = anuncioService;\n    this.spinner = spinner;\n    this.anuncio = null;\n    this.categorias = [];\n    this.empresaId = 0;\n    this.categoriaId = 0;\n    this.nomeArquivo = '';\n    this.imagemUrl = \"../../../../assets/images/icons/upload.png\";\n    this.idAnuncio = \"\";\n    this.IsEdicao = false;\n  }\n  ngOnInit() {\n    this.validation();\n    this.BuscarCategorias();\n    this.idAnuncio = this.route.snapshot.params['id'];\n    debugger;\n    if (this.idAnuncio != null) {\n      this.BuscarAnuncioPorId();\n      this.IsEdicao = true;\n    }\n  }\n  get f() {\n    return this.form.controls;\n  }\n  onChange(event) {\n    const selectedFiles = event.srcElement.files;\n    document.getElementById('imageLabel').innerHTML = selectedFiles[0].name;\n  }\n  validation() {\n    this.form = this.fb.group({\n      descricao: ['', [Validators.required, Validators.minLength(4), Validators.maxLength(150)]],\n      data_validade: ['', Validators.required],\n      preco: ['', Validators.required],\n      categoria: ['', Validators.required],\n      imagem: ['', Validators.required]\n    });\n  }\n  salvarAnuncio() {\n    debugger;\n    this.categoriaId = parseInt(document.getElementById('categoriaId').value);\n    this.empresaId = 2;\n    let anuncio = {\n      descricao: this.f.descricao.value,\n      data_validade: this.f.data_validade.value,\n      preco: this.f.preco.value,\n      ativo: true,\n      is_destaque: false,\n      categoria_id: this.categoriaId,\n      empresa_id: this.empresaId,\n      imagem_url: this.nomeArquivo\n    };\n    this.anuncioservice.SalvarAnuncio(anuncio).subscribe(() => {\n      this.toast.success('Anúncio cadastrado com sucesso!', 'Sucesso');\n    }, erro => {\n      this.toast.error('Erro ao cadastrar o anúncio.', 'Erro');\n    });\n  }\n  BuscarCategorias() {\n    this.categoriaService.BuscarTodasCategorias().subscribe(result => {\n      if (result != null) {\n        this.categorias = result;\n      }\n    }, () => {\n      alert(`Nenhuma categoria encontrada. Verifique a conexão com a internet.`);\n    });\n  }\n  onFileChange(ev) {\n    const reader = new FileReader();\n    reader.onload = event => this.imagemUrl = event.target.result;\n    this.file = ev.target.files;\n    reader.readAsDataURL(this.file[0]);\n    this.uploadImagem();\n  }\n  uploadImagem() {\n    this.anuncioservice.postUpload(this.file).subscribe(fileName => {\n      this.nomeArquivo = fileName;\n    }, error => {\n      alert('Erro ao enviar imagem para o servidor.');\n    });\n  }\n  inputChange(event) {\n    const files = event.target.files;\n    this.arquivoSelecionado = files?.item(0);\n    this.anuncioservice.EnviarArquivo(this.arquivoSelecionado).subscribe(nomeArquivo => {\n      this.nomeArquivo = nomeArquivo;\n      this.localUrl = this.arquivoSelecionado;\n      console.log(this.arquivoSelecionado);\n    });\n  }\n  selectFile(event) {\n    this.file = event.target.files[0];\n    if (event.target.files && event.target.files[0]) {\n      var reader = new FileReader();\n      reader.onload = event => {\n        this.localUrl = event.target.result;\n      };\n      reader.readAsDataURL(event.target.files[0]);\n    }\n  }\n  BuscarAnuncioPorId() {\n    debugger;\n    this.spinner.show();\n    this.anuncioService.BuscarAnuncioPorIdIncludeEmpresa(this.idAnuncio).subscribe(result => {\n      debugger;\n      if (result != null) {\n        this.anuncio = result.result;\n        setTimeout(() => {\n          this.spinner.hide();\n        }, 500);\n      } else {\n        setTimeout(() => {\n          this.spinner.hide();\n        }, 500);\n        alert(`$ Nenhum anúncio encontrado. Verifique a conexão com a internet.`);\n      }\n    });\n  }\n}\nCadastrarAnuncioComponent.ɵfac = function CadastrarAnuncioComponent_Factory(t) {\n  return new (t || CadastrarAnuncioComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AnuncioService), i0.ɵɵdirectiveInject(i3.CategoriaService), i0.ɵɵdirectiveInject(i4.ToastrService), i0.ɵɵdirectiveInject(i5.ActivatedRoute), i0.ɵɵdirectiveInject(i2.AnuncioService), i0.ɵɵdirectiveInject(i6.NgxSpinnerService));\n};\nCadastrarAnuncioComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CadastrarAnuncioComponent,\n  selectors: [[\"app-cadastrar-anuncio\"]],\n  inputs: {\n    anuncio: \"anuncio\"\n  },\n  decls: 45,\n  vars: 32,\n  consts: [[1, \"container\", \"card\", \"col-lg-6\", \"mt-3\"], [1, \"col-lg-12\", 2, \"padding\", \"25px\"], [1, \"card-header\", \"text-center\", 2, \"background-color\", \"darkblue\", \"color\", \"white\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"card-body\", \"row\"], [1, \"form-group\", \"col-md-12\"], [\"for\", \"descricao\"], [\"type\", \"text\", \"formControlName\", \"descricao\", \"placeholder\", \"Digite a descri\\u00E7\\u00E3o do seu an\\u00FAncio\", 1, \"form-control\", 3, \"ngModel\", \"ngClass\", \"ngModelChange\"], [\"class\", \"invalid-feedback\", 4, \"ngIf\"], [1, \"form-group\", \"col-md-4\"], [\"type\", \"date\", \"formControlName\", \"data_validade\", 1, \"form-control\", 3, \"ngModel\", \"ngClass\", \"ngModelChange\"], [\"for\", \"inputState\"], [\"id\", \"categoriaId\", \"formControlName\", \"categoria\", 1, \"form-control\", 3, \"ngClass\"], [3, \"selected\", 4, \"ngIf\"], [\"selected\", \"\", 4, \"ngIf\"], [\"value\", \"categoria.id\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"preco\"], [\"type\", \"text\", \"formControlName\", \"preco\", \"id\", \"preco\", \"placeholder\", \"Ex: R$23,99\", \"mask\", \"separator.2\", \"thousandSeparator\", \".\", \"decimalMarker\", \",\", \"prefix\", \"R$\", 1, \"form-control\", 3, \"ngModel\", \"ngClass\", \"ngModelChange\"], [1, \"form-group\", \"row\"], [\"for\", \"\", 1, \"col-md-4\"], [\"type\", \"file\", \"formControlName\", \"imagem\", 2, \"display\", \"none\", 3, \"ngClass\", \"change\"], [\"file\", \"\"], [\"tooltip\", \"Upload de nova Imagem\", 1, \"image\", \"col-md-4\", 2, \"width\", \"20%\", 3, \"src\", \"click\"], [1, \"card-footer\", 2, \"margin\", \"10px\"], [1, \"btn\", \"btn-dark\", 2, \"margin-right\", \"15px\", 3, \"routerLink\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\"], [1, \"invalid-feedback\"], [3, \"selected\"], [\"selected\", \"\"], [\"value\", \"categoria.id\"]],\n  template: function CadastrarAnuncioComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r12 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h4\");\n      i0.ɵɵtext(4, \"Cadastro de An\\u00FAncio\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(5, \"form\", 3);\n      i0.ɵɵlistener(\"ngSubmit\", function CadastrarAnuncioComponent_Template_form_ngSubmit_5_listener() {\n        return ctx.salvarAnuncio();\n      });\n      i0.ɵɵelementStart(6, \"div\", 4)(7, \"div\", 5)(8, \"label\", 6);\n      i0.ɵɵtext(9, \"Descri\\u00E7\\u00E3o\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"input\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function CadastrarAnuncioComponent_Template_input_ngModelChange_10_listener($event) {\n        return ctx.anuncio.descricao = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(11, CadastrarAnuncioComponent_div_11_Template, 2, 0, \"div\", 8);\n      i0.ɵɵtemplate(12, CadastrarAnuncioComponent_div_12_Template, 2, 0, \"div\", 8);\n      i0.ɵɵtemplate(13, CadastrarAnuncioComponent_div_13_Template, 2, 0, \"div\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 9)(15, \"label\");\n      i0.ɵɵtext(16, \"V\\u00E1lido at\\u00E9\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"input\", 10);\n      i0.ɵɵlistener(\"ngModelChange\", function CadastrarAnuncioComponent_Template_input_ngModelChange_17_listener($event) {\n        return ctx.anuncio.data_validade = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(18, CadastrarAnuncioComponent_div_18_Template, 2, 0, \"div\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"div\", 9)(20, \"label\", 11);\n      i0.ɵɵtext(21, \"Categoria\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"select\", 12);\n      i0.ɵɵtemplate(23, CadastrarAnuncioComponent_option_23_Template, 2, 1, \"option\", 13);\n      i0.ɵɵtemplate(24, CadastrarAnuncioComponent_option_24_Template, 2, 0, \"option\", 14);\n      i0.ɵɵtemplate(25, CadastrarAnuncioComponent_option_25_Template, 2, 1, \"option\", 15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(26, CadastrarAnuncioComponent_div_26_Template, 2, 0, \"div\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"div\", 9)(28, \"label\", 16);\n      i0.ɵɵtext(29, \"Pre\\u00E7o\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"input\", 17);\n      i0.ɵɵlistener(\"ngModelChange\", function CadastrarAnuncioComponent_Template_input_ngModelChange_30_listener($event) {\n        return ctx.anuncio.preco = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(31, CadastrarAnuncioComponent_div_31_Template, 2, 0, \"div\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"div\", 18)(33, \"label\", 19);\n      i0.ɵɵtext(34, \" Selecione a Imagem do Produto\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"input\", 20, 21);\n      i0.ɵɵlistener(\"change\", function CadastrarAnuncioComponent_Template_input_change_35_listener($event) {\n        return ctx.onFileChange($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"div\")(38, \"img\", 22);\n      i0.ɵɵlistener(\"click\", function CadastrarAnuncioComponent_Template_img_click_38_listener() {\n        i0.ɵɵrestoreView(_r12);\n        const _r9 = i0.ɵɵreference(36);\n        return i0.ɵɵresetView(_r9.click());\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(39, CadastrarAnuncioComponent_div_39_Template, 2, 0, \"div\", 8);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(40, \"div\", 23)(41, \"button\", 24);\n      i0.ɵɵtext(42, \" Voltar \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(43, \"button\", 25);\n      i0.ɵɵtext(44, \"Salvar\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"formGroup\", ctx.form);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.anuncio.descricao)(\"ngClass\", i0.ɵɵpureFunction1(21, _c0, ctx.f.descricao.errors && ctx.f.descricao.touched));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.f.descricao.errors == null ? null : ctx.f.descricao.errors.required);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.f.descricao.errors == null ? null : ctx.f.descricao.errors.minlength);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.f.descricao.errors == null ? null : ctx.f.descricao.errors.maxlength);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.anuncio.data_validade)(\"ngClass\", i0.ɵɵpureFunction1(23, _c0, ctx.f.data_validade.errors && ctx.f.data_validade.touched));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.f.data_validade.errors == null ? null : ctx.f.data_validade.errors.required);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(25, _c0, ctx.f.categoria.errors && ctx.f.categoria.touched));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.IsEdicao);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.IsEdicao);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.categorias);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.f.categoria.errors == null ? null : ctx.f.categoria.errors.required);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.anuncio.preco)(\"ngClass\", i0.ɵɵpureFunction1(27, _c0, ctx.f.preco.errors && ctx.f.preco.touched));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.f.preco.errors == null ? null : ctx.f.preco.errors.required);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(29, _c0, ctx.f.imagem.errors && ctx.f.imagem.touched));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"src\", ctx.imagemUrl, i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.f.imagem.errors.required);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(31, _c1));\n    }\n  },\n  dependencies: [i7.NgClass, i7.NgForOf, i7.NgIf, i5.RouterLink, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i8.NgxMaskDirective],\n  styles: [\".custom-file-label[_ngcontent-%COMP%]::after {\\r\\n  position: absolute;\\r\\n  top: 0;\\r\\n  right: 0;\\r\\n  bottom: 0;\\r\\n  z-index: 3;\\r\\n  display: block;\\r\\n  height: calc(1.5em + 0.9rem);\\r\\n  padding: 0.45rem 0.85rem;\\r\\n  line-height: 1.5;\\r\\n  color: #495057;\\r\\n  content: \\\"Selecionar\\\";\\r\\n  background-color: #e4e4e4;\\r\\n  border-left: inherit;\\r\\n  border-radius: 0 0.37rem 0.37rem 0;\\r\\n}\\r\\n\\r\\n.cabecalhoAnuncio[_ngcontent-%COMP%]{\\r\\n  background-color: darkblue;\\r\\n  color: white;\\r\\n  padding: 10px;\\r\\n  margin-bottom: 10px;\\r\\n  border-radius: 15px;\\r\\n}\\r\\n\\r\\nimg[_ngcontent-%COMP%]{\\r\\n  cursor: pointer;\\r\\n  border: solid 1px rgb(185, 183, 183);\\r\\n  padding: 10px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvQ29tcG9uZW50cy9BbnVuY2lvL2NhZGFzdHJhci1hbnVuY2lvL2NhZGFzdHJhci1hbnVuY2lvLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBa0I7RUFDbEIsTUFBTTtFQUNOLFFBQVE7RUFDUixTQUFTO0VBQ1QsVUFBVTtFQUNWLGNBQWM7RUFDZCw0QkFBNEI7RUFDNUIsd0JBQXdCO0VBQ3hCLGdCQUFnQjtFQUNoQixjQUFjO0VBQ2QscUJBQXFCO0VBQ3JCLHlCQUF5QjtFQUN6QixvQkFBb0I7RUFDcEIsa0NBQWtDO0FBQ3BDOztBQUVBO0VBQ0UsMEJBQTBCO0VBQzFCLFlBQVk7RUFDWixhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGVBQWU7RUFDZixvQ0FBb0M7RUFDcEMsYUFBYTtBQUNmIiwic291cmNlc0NvbnRlbnQiOlsiLmN1c3RvbS1maWxlLWxhYmVsOjphZnRlciB7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHRvcDogMDtcclxuICByaWdodDogMDtcclxuICBib3R0b206IDA7XHJcbiAgei1pbmRleDogMztcclxuICBkaXNwbGF5OiBibG9jaztcclxuICBoZWlnaHQ6IGNhbGMoMS41ZW0gKyAwLjlyZW0pO1xyXG4gIHBhZGRpbmc6IDAuNDVyZW0gMC44NXJlbTtcclxuICBsaW5lLWhlaWdodDogMS41O1xyXG4gIGNvbG9yOiAjNDk1MDU3O1xyXG4gIGNvbnRlbnQ6IFwiU2VsZWNpb25hclwiO1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNlNGU0ZTQ7XHJcbiAgYm9yZGVyLWxlZnQ6IGluaGVyaXQ7XHJcbiAgYm9yZGVyLXJhZGl1czogMCAwLjM3cmVtIDAuMzdyZW0gMDtcclxufVxyXG5cclxuLmNhYmVjYWxob0FudW5jaW97XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogZGFya2JsdWU7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIHBhZGRpbmc6IDEwcHg7XHJcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxuICBib3JkZXItcmFkaXVzOiAxNXB4O1xyXG59XHJcblxyXG5pbWd7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIGJvcmRlcjogc29saWQgMXB4IHJnYigxODUsIDE4MywgMTgzKTtcclxuICBwYWRkaW5nOiAxMHB4O1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});\nCadastrarAnuncioComponent.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: CadastrarAnuncioComponent,\n  factory: CadastrarAnuncioComponent.ɵfac\n});","map":{"version":3,"mappings":"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","names":["Validators","i0","CadastrarAnuncioComponent","constructor","fb","anuncioservice","categoriaService","toast","route","anuncioService","spinner","ngOnInit","validation","BuscarCategorias","idAnuncio","snapshot","params","BuscarAnuncioPorId","IsEdicao","f","form","controls","onChange","event","selectedFiles","srcElement","files","document","getElementById","innerHTML","name","group","descricao","required","minLength","maxLength","data_validade","preco","categoria","imagem","salvarAnuncio","categoriaId","parseInt","value","empresaId","anuncio","ativo","is_destaque","categoria_id","empresa_id","imagem_url","nomeArquivo","SalvarAnuncio","subscribe","success","erro","error","BuscarTodasCategorias","result","categorias","alert","onFileChange","ev","reader","FileReader","onload","imagemUrl","target","file","readAsDataURL","uploadImagem","postUpload","fileName","inputChange","arquivoSelecionado","item","EnviarArquivo","localUrl","console","log","selectFile","show","BuscarAnuncioPorIdIncludeEmpresa","setTimeout","hide","selectors","inputs","decls","vars","consts","template","ctx","factory"],"sourceRoot":"","sources":["D:\\projetos\\MarketingFront\\MarketingAppFront\\src\\app\\Components\\Anuncio\\cadastrar-anuncio\\cadastrar-anuncio.component.ts","D:\\projetos\\MarketingFront\\MarketingAppFront\\src\\app\\Components\\Anuncio\\cadastrar-anuncio\\cadastrar-anuncio.component.html"],"sourcesContent":["import { Anuncio } from './../../../Models/Anuncio';\nimport { CategoriaService } from './../../../Services/CategoriaService';\nimport { EmpresaService } from './../../../Services/EmpresaService';\nimport { AnuncioService } from 'src/app/Services/AnuncioService';\nimport { Empresa } from './../../../Models/Empresa';\nimport { Component, Injectable, Input, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { CategoriaAnuncio } from 'src/app/Models/CategoriaAnuncio';\nimport { ToastrService } from 'ngx-toastr';\nimport { ActivatedRoute } from '@angular/router';\nimport { NgxSpinnerService } from 'ngx-spinner';\n\n@Component({\n  selector: 'app-cadastrar-anuncio',\n  templateUrl: './cadastrar-anuncio.component.html',\n  styleUrls: ['./cadastrar-anuncio.component.css'],\n})\n\n@Injectable()\n\nexport class CadastrarAnuncioComponent implements OnInit {\n  @Input() anuncio: Anuncio = null;\n  form: FormGroup;\n  categorias: CategoriaAnuncio[] = [];\n  empresaId: number = 0;\n  categoriaId: number = 0;\n  localUrl: any;\n  file?: File;\n  nomeArquivo: string = '';\n  imagemUrl = \"../../../../assets/images/icons/upload.png\";\n  public arquivoSelecionado: File | null | undefined;\n  idAnuncio: string = \"\";\n  IsEdicao: boolean = false;\n\n  constructor(\n    private fb: FormBuilder,\n    private anuncioservice: AnuncioService,\n    private categoriaService: CategoriaService,\n    private toast: ToastrService,\n    private route: ActivatedRoute,\n     private anuncioService: AnuncioService,\n     private spinner: NgxSpinnerService\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.validation();\n    this.BuscarCategorias();\n\n    this.idAnuncio = this.route.snapshot.params['id'];\n    debugger;\n    if(this.idAnuncio != null){\n      this.BuscarAnuncioPorId();\n      this.IsEdicao = true;\n    }\n  }\n\n  get f() {\n    return this.form.controls;\n  }\n\n  onChange(event: any) {\n    const selectedFiles = <FileList>event.srcElement.files;\n    document.getElementById('imageLabel')!.innerHTML = selectedFiles[0].name;\n  }\n\n  public validation(): void{\n    this.form = this.fb.group({\n      descricao: ['',[Validators.required, Validators.minLength(4), Validators.maxLength(150)]],\n      data_validade: ['', Validators.required],\n      preco: ['', Validators.required],\n      categoria: ['', Validators.required],\n      imagem: ['', Validators.required],\n    });\n  }\n\n  salvarAnuncio() {\n    debugger;\n    this.categoriaId = parseInt(\n      (<HTMLSelectElement>document.getElementById('categoriaId')).value\n    );\n    this.empresaId = 2;\n\n    let anuncio = {\n      descricao: this.f.descricao.value,\n      data_validade: this.f.data_validade.value,\n      preco: this.f.preco.value,\n      ativo: true,\n      is_destaque: false,\n      categoria_id: this.categoriaId,\n      empresa_id: this.empresaId,\n      imagem_url: this.nomeArquivo,\n    };\n\n    this.anuncioservice.SalvarAnuncio(anuncio)\n    .subscribe(\n      () => {\n        this.toast.success('Anúncio cadastrado com sucesso!', 'Sucesso');\n      },\n      (erro) => {\n        this.toast.error('Erro ao cadastrar o anúncio.', 'Erro');\n      }\n    );\n  }\n\n  BuscarCategorias() {\n    this.categoriaService.BuscarTodasCategorias().subscribe(\n      (result) => {\n        if (result != null) {\n          this.categorias = result;\n        }\n      },\n      () => {\n        alert(\n          `Nenhuma categoria encontrada. Verifique a conexão com a internet.`\n        );\n      }\n    );\n  }\n\n  onFileChange(ev :any) : void{\n\n    const reader = new FileReader();\n    reader.onload = (event : any) => this.imagemUrl = event.target.result;\n    this.file = ev.target.files;\n    reader.readAsDataURL(this.file[0]);\n    this.uploadImagem();\n  }\n\n  uploadImagem(): void{\n    this.anuncioservice.postUpload(this.file)\n    .subscribe(\n      (fileName) => {\n        this.nomeArquivo = fileName;\n      },\n      (error: any) => {\n        alert('Erro ao enviar imagem para o servidor.');\n      }\n    )\n  }\n\n  inputChange(event: Event) {\n    const files = (event.target as HTMLInputElement).files;\n    this.arquivoSelecionado = files?.item(0);\n    this.anuncioservice\n      .EnviarArquivo(this.arquivoSelecionado!)\n      .subscribe((nomeArquivo) => {\n        this.nomeArquivo = nomeArquivo;\n        this.localUrl = this.arquivoSelecionado;\n        console.log(this.arquivoSelecionado);\n      });\n  }\n\n  selectFile(event: any) {\n    this.file = <File>event.target.files[0];\n    if (event.target.files && event.target.files[0]) {\n      var reader = new FileReader();\n      reader.onload = (event: any) => {\n        this.localUrl = event.target.result;\n      };\n      reader.readAsDataURL(event.target.files[0]);\n    }\n  }\n\n  BuscarAnuncioPorId() {\n    debugger;\n    this.spinner.show();\n    this.anuncioService.BuscarAnuncioPorIdIncludeEmpresa(this.idAnuncio)\n      .subscribe((result) => {\n        debugger;\n        if (result != null) {\n          this.anuncio = result.result;\n          setTimeout(() =>{\n            this.spinner.hide();\n          }, 500);\n        }\n        else{\n          setTimeout(() =>{\n            this.spinner.hide();\n          }, 500);\n          alert(\n            `$ Nenhum anúncio encontrado. Verifique a conexão com a internet.`\n          );\n        }\n      }\n    );\n  }\n}\n","<div class=\"container card col-lg-6 mt-3\">\n  <div class=\"col-lg-12\" style=\"padding: 25px\">\n    <div\n      class=\"card-header text-center\"\n      style=\"background-color: darkblue; color: white\"\n    >\n      <h4>Cadastro de Anúncio</h4>\n    </div>\n    <form (ngSubmit)=\"salvarAnuncio()\" [formGroup]=\"form\">\n      <div class=\"card-body row\">\n        <div class=\"form-group col-md-12\">\n          <label for=\"descricao\">Descrição</label>\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            formControlName=\"descricao\"\n            [(ngModel)]=\"anuncio.descricao\"\n            placeholder=\"Digite a descrição do seu anúncio\"\n            [ngClass]=\"{\n              'is-invalid': f.descricao.errors && f.descricao.touched\n            }\"\n          />\n          <div *ngIf=\"f.descricao.errors?.required\" class=\"invalid-feedback\">\n            Descrição é obrigatória\n          </div>\n          <div *ngIf=\"f.descricao.errors?.minlength\" class=\"invalid-feedback\">\n            Descrição deve ter no mínimo 4 caracteres\n          </div>\n          <div *ngIf=\"f.descricao.errors?.maxlength\" class=\"invalid-feedback\">\n            Descrição deve ter no máximo 150 caracteres\n          </div>\n        </div>\n        <div class=\"form-group col-md-4\">\n          <label>Válido até</label>\n          <input\n            type=\"date\"\n            class=\"form-control\"\n            formControlName=\"data_validade\"\n            [(ngModel)]=\"anuncio.data_validade\"\n            [ngClass]=\"{\n              'is-invalid': f.data_validade.errors && f.data_validade.touched\n            }\"\n          />\n          <div\n            *ngIf=\"f.data_validade.errors?.required\"\n            class=\"invalid-feedback\"\n          >\n            Escolha uma data de validade para o anúncio\n          </div>\n        </div>\n        <div class=\"form-group col-md-4\">\n          <label for=\"inputState\">Categoria</label>\n          <select\n            id=\"categoriaId\"\n            class=\"form-control\"\n            formControlName=\"categoria\"\n            [ngClass]=\"{\n              'is-invalid': f.categoria.errors && f.categoria.touched\n            }\"\n          >\n            <option *ngIf=\"IsEdicao\" [selected]>{{ anuncio.categoria.descricao }}</option>\n            <option *ngIf=\"!IsEdicao\" selected> Selecione </option>\n            <option *ngFor=\"let categoria of categorias\" value=\"categoria.id\">{{ categoria.descricao }}</option>\n          </select>\n          <div *ngIf=\"f.categoria.errors?.required\" class=\"invalid-feedback\">\n            Escolha uma categoria para o anúncio\n          </div>\n        </div>\n        <div class=\"form-group col-md-4\">\n          <label for=\"preco\">Preço</label>\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            formControlName=\"preco\"\n            [(ngModel)]=\"anuncio.preco\"\n            id=\"preco\"\n            placeholder=\"Ex: R$23,99\"\n            mask=\"separator.2\"\n            thousandSeparator=\".\"\n            decimalMarker=\",\"\n            prefix=\"R$\"\n            [ngClass]=\"{ 'is-invalid': f.preco.errors && f.preco.touched }\"\n          />\n          <div *ngIf=\"f.preco.errors?.required\" class=\"invalid-feedback\">\n            Defina um preço para o anúncio\n          </div>\n        </div>\n        <div class=\"form-group row\">\n          <label class=\"col-md-4\" for=\"\"> Selecione a Imagem do Produto</label>\n          <input\n            type=\"file\"\n            #file\n            (change)=\"onFileChange($event)\"\n            style=\"display: none\"\n            formControlName=\"imagem\"\n            [ngClass]=\"{ 'is-invalid': f.imagem.errors && f.imagem.touched }\"\n          />\n          <div>\n            <img\n              class=\"image col-md-4\"\n              [src]=\"imagemUrl\"\n              (click)=\"file.click()\"\n              style=\"width: 20%\"\n              tooltip=\"Upload de nova Imagem\"\n            />\n          </div>\n          <div *ngIf=\"f.imagem.errors.required\" class=\"invalid-feedback\">\n            Escolha uma imagem para o anúncio\n          </div>\n        </div>\n      </div>\n    </form>\n    <div class=\"card-footer\" style=\"margin: 10px\">\n      <button\n        class=\"btn btn-dark\"\n        style=\"margin-right: 15px\"\n        [routerLink]=\"['/gerencial-empresa']\"\n      >\n        Voltar\n      </button>\n      <button type=\"submit\" class=\"btn btn-success\">Salvar</button>\n    </div>\n  </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}