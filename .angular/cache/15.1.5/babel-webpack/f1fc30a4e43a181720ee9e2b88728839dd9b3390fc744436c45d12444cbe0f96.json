{"ast":null,"code":"import { FormControl } from '@angular/forms';\nimport { tap, map, filter, distinctUntilChanged, debounceTime } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Services/AnuncioService\";\nimport * as i2 from \"ngx-spinner\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nconst _c0 = function () {\n  return [\"/gerencial-empresa\"];\n};\nexport class PesquisaComponent {\n  constructor(anuncioService, spinner) {\n    this.anuncioService = anuncioService;\n    this.spinner = spinner;\n    this.descricao = \"\";\n    this.anuncios = [];\n    this.queryFiled = new FormControl();\n  }\n  ngOnInit() {\n    this.queryFiled.valueChanges.pipe(map(value => value.trim()), filter(value => value.length >= 3), debounceTime(200), distinctUntilChanged(), tap(value => console.log(value))\n    // switchMap( value => )\n    ).subscribe();\n  }\n  buscarAnunciosPorDescricao() {\n    debugger;\n    this.spinner.show();\n    this.anuncioService.BuscarTodosAnunciosOuPorDescricao(this.descricao).subscribe(result => {\n      debugger;\n      if (result != null) this.anuncios = result;\n      setTimeout(() => {\n        this.spinner.hide();\n      }, 500);\n    }, erro => {\n      alert('Erro ao buscar os anúncios.');\n      this.spinner.hide();\n    });\n  }\n}\nPesquisaComponent.ɵfac = function PesquisaComponent_Factory(t) {\n  return new (t || PesquisaComponent)(i0.ɵɵdirectiveInject(i1.AnuncioService), i0.ɵɵdirectiveInject(i2.NgxSpinnerService));\n};\nPesquisaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PesquisaComponent,\n  selectors: [[\"app-pesquisa\"]],\n  decls: 41,\n  vars: 3,\n  consts: [[2, \"background-color\", \"darkblue\", \"margin\", \"0\", \"position\", \"fixed\", \"top\", \"0\", \"left\", \"0\", \"width\", \"100%\", \"z-index\", \"99\"], [1, \"header-main\", \"border-bottom\"], [1, \"container\"], [1, \"row\", \"align-items-center\"], [1, \"col-xl-2\", \"col-lg-3\", \"col-md-12\"], [\"routerLink\", \"\", 1, \"brand-wrap\", 2, \"color\", \"white\"], [1, \"logo\"], [1, \"subTitleLogo\"], [1, \"col-xl-6\", \"col-lg-5\", \"col-md-6\"], [1, \"search-header\"], [1, \"input-group\", \"w-100\"], [\"type\", \"text\", \"placeholder\", \"O que voc\\u00EA precisa?\", \"name\", \"descricao\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"input-group-append\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"fa\", \"fa-search\"], [1, \"col-xl-4\", \"col-lg-4\", \"col-md-6\"], [1, \"widgets-wrap\", \"float-md-right\"], [1, \"widget-header\", \"mr-3\"], [\"href\", \"#\", 1, \"widget-view\"], [1, \"icon-area\"], [1, \"fa\", \"fa-user\", 2, \"color\", \"white\"], [1, \"notify\"], [1, \"text\", 2, \"color\", \"white\"], [1, \"widget-view\", 3, \"routerLink\"], [1, \"icon-area\", 2, \"color\", \"white\"], [1, \"fa\", \"fa-store\"], [1, \"widget-header\"], [1, \"fa\", \"fa-address-book\", 2, \"color\", \"white\"]],\n  template: function PesquisaComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\")(1, \"header\", 0)(2, \"section\", 1)(3, \"div\", 2)(4, \"div\", 3)(5, \"div\", 4)(6, \"a\", 5)(7, \"span\", 6);\n      i0.ɵɵtext(8, \"PRECOFAVORITO.COM\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"span\", 7);\n      i0.ɵɵtext(10, \"Os melhores pre\\u00E7os da cidade!\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(11, \"div\", 8)(12, \"form\", 9)(13, \"div\", 10)(14, \"input\", 11);\n      i0.ɵɵlistener(\"ngModelChange\", function PesquisaComponent_Template_input_ngModelChange_14_listener($event) {\n        return ctx.descricao = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"div\", 12)(16, \"button\", 13);\n      i0.ɵɵlistener(\"click\", function PesquisaComponent_Template_button_click_16_listener() {\n        return ctx.buscarAnunciosPorDescricao();\n      });\n      i0.ɵɵelement(17, \"i\", 14);\n      i0.ɵɵtext(18, \" Buscar \");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(19, \"div\", 15)(20, \"div\", 16)(21, \"div\", 17)(22, \"a\", 18)(23, \"div\", 19);\n      i0.ɵɵelement(24, \"i\", 20);\n      i0.ɵɵelementStart(25, \"span\", 21);\n      i0.ɵɵtext(26, \"3\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(27, \"small\", 22);\n      i0.ɵɵtext(28, \" Meu Perfil \");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(29, \"div\", 17)(30, \"a\", 23)(31, \"div\", 24);\n      i0.ɵɵelement(32, \"i\", 25);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"small\", 22);\n      i0.ɵɵtext(34, \" Gerencial \");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(35, \"div\", 26)(36, \"a\", 18)(37, \"div\", 19);\n      i0.ɵɵelement(38, \"i\", 27);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(39, \"small\", 22);\n      i0.ɵɵtext(40, \" Administra\\u00E7\\u00E3o \");\n      i0.ɵɵelementEnd()()()()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"ngModel\", ctx.descricao);\n      i0.ɵɵadvance(16);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(2, _c0));\n    }\n  },\n  dependencies: [i3.RouterLink, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm],\n  styles: [\".menu[_ngcontent-%COMP%] {\\r\\n  position: fixed;\\r\\n  width: auto;\\r\\n}\\r\\n\\r\\n.logo[_ngcontent-%COMP%]{\\r\\n  font-size: 18px;\\r\\n  \\r\\n  color: white;\\r\\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\\r\\n  font-weight: bold;\\r\\n  border-radius: 15px;\\r\\n  padding-top: 5px;\\r\\n  padding-bottom: 10px;\\r\\n  padding-left: 5px;\\r\\n  padding-right: 5px;\\r\\n  margin-right: 20px;\\r\\n}\\r\\n\\r\\n.subTitleLogo[_ngcontent-%COMP%]{\\r\\n  font-size: 10px;\\r\\n  font-style: italic;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvQ29tcG9uZW50cy9wYWdpbmEtcHJpbmNpcGFsL3Blc3F1aXNhL3Blc3F1aXNhLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxlQUFlO0VBQ2YsV0FBVztBQUNiOztBQUVBO0VBQ0UsZUFBZTtFQUNmLDZCQUE2QjtFQUM3QixZQUFZO0VBQ1osNERBQTREO0VBQzVELGlCQUFpQjtFQUNqQixtQkFBbUI7RUFDbkIsZ0JBQWdCO0VBQ2hCLG9CQUFvQjtFQUNwQixpQkFBaUI7RUFDakIsa0JBQWtCO0VBQ2xCLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGVBQWU7RUFDZixrQkFBa0I7QUFDcEIiLCJzb3VyY2VzQ29udGVudCI6WyIubWVudSB7XHJcbiAgcG9zaXRpb246IGZpeGVkO1xyXG4gIHdpZHRoOiBhdXRvO1xyXG59XHJcblxyXG4ubG9nb3tcclxuICBmb250LXNpemU6IDE4cHg7XHJcbiAgLyogYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7ICovXHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIGZvbnQtZmFtaWx5OiAnU2Vnb2UgVUknLCBUYWhvbWEsIEdlbmV2YSwgVmVyZGFuYSwgc2Fucy1zZXJpZjtcclxuICBmb250LXdlaWdodDogYm9sZDtcclxuICBib3JkZXItcmFkaXVzOiAxNXB4O1xyXG4gIHBhZGRpbmctdG9wOiA1cHg7XHJcbiAgcGFkZGluZy1ib3R0b206IDEwcHg7XHJcbiAgcGFkZGluZy1sZWZ0OiA1cHg7XHJcbiAgcGFkZGluZy1yaWdodDogNXB4O1xyXG4gIG1hcmdpbi1yaWdodDogMjBweDtcclxufVxyXG5cclxuLnN1YlRpdGxlTG9nb3tcclxuICBmb250LXNpemU6IDEwcHg7XHJcbiAgZm9udC1zdHlsZTogaXRhbGljO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"AAIA,SAASA,WAAW,QAAQ,gBAAgB;AAE5C,SAASC,GAAG,EAAEC,GAAG,EAAEC,MAAM,EAAEC,oBAAoB,EAAEC,YAAY,QAAkB,gBAAgB;;;;;;;;;AAQ/F,OAAM,MAAOC,iBAAiB;EAM5BC,YACUC,cAA8B,EAC9BC,OAA0B;IAD1B,mBAAc,GAAdD,cAAc;IACd,YAAO,GAAPC,OAAO;IANjB,cAAS,GAAW,EAAE;IACf,aAAQ,GAAc,EAAE;IAC/B,eAAU,GAAG,IAAIT,WAAW,EAAE;EAIS;EAEvCU,QAAQ;IACN,IAAI,CAACC,UAAU,CAACC,YAAY,CAC3BC,IAAI,CACHX,GAAG,CAACY,KAAK,IAAIA,KAAK,CAACC,IAAI,EAAE,CAAC,EAC1BZ,MAAM,CAACW,KAAK,IAAIA,KAAK,CAACE,MAAM,IAAI,CAAC,CAAC,EAClCX,YAAY,CAAC,GAAG,CAAC,EACjBD,oBAAoB,EAAE,EACtBH,GAAG,CAACa,KAAK,IAAIG,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IAC/B;IAAA,CACD,CAACK,SAAS,EAAE;EACf;EAEAC,0BAA0B;IACxB;IAEA,IAAI,CAACX,OAAO,CAACY,IAAI,EAAE;IACnB,IAAI,CAACb,cAAc,CAACc,iCAAiC,CAAC,IAAI,CAACC,SAAS,CAAC,CAACJ,SAAS,CAC5EK,MAAW,IAAI;MACd;MACA,IAAIA,MAAM,IAAI,IAAI,EAAE,IAAI,CAACC,QAAQ,GAAGD,MAAM;MAC1CE,UAAU,CAAC,MAAK;QACd,IAAI,CAACjB,OAAO,CAACkB,IAAI,EAAE;MACrB,CAAC,EAAE,GAAG,CAAC;IACT,CAAC,EACAC,IAAI,IAAI;MACPC,KAAK,CAAC,6BAA6B,CAAC;MACpC,IAAI,CAACpB,OAAO,CAACkB,IAAI,EAAE;IACrB,CAAC,CACF;EACH;;AAvCWrB,iBAAiB;mBAAjBA,iBAAiB;AAAA;AAAjBA,iBAAiB;QAAjBA,iBAAiB;EAAAwB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCd9BC,2BAAK;MAOqCA,iCAAiB;MAAAA,iBAAO;MAC3CA,+BAA2B;MAAAA,mDAA6B;MAAAA,iBAAO;MAGtEA,+BAAwC;MAG+DA;QAAA;MAAA,EAAuB;MAAlHA,iBAAmH;MACnHA,gCAAgC;MACgBA;QAAA,OAASC,gCAA4B;MAAA,EAAC;MAClFD,yBAA4B;MAACA,yBAC/B;MAAAA,iBAAS;MAKvBA,gCAAwC;MAKpBA,yBAAgD;MAChDA,iCAAqB;MAAAA,kBAAC;MAAAA,iBAAO;MAEjCA,kCAA0C;MAACA,6BAAW;MAAAA,iBAAQ;MAYtEA,gCAAgC;MAGpBA,yBAA2B;MAC/BA,iBAAM;MACNA,kCAA0C;MAACA,4BAAU;MAAAA,iBAAQ;MAGrEA,gCAA2B;MAGfA,yBAAwD;MAC5DA,iBAAM;MACNA,kCAA0C;MAACA,0CAAc;MAAAA,iBAAQ;;;MA1CsBA,gBAAuB;MAAvBA,uCAAuB;MA8B/GA,gBAAqC;MAArCA,uDAAqC","names":["FormControl","tap","map","filter","distinctUntilChanged","debounceTime","PesquisaComponent","constructor","anuncioService","spinner","ngOnInit","queryFiled","valueChanges","pipe","value","trim","length","console","log","subscribe","buscarAnunciosPorDescricao","show","BuscarTodosAnunciosOuPorDescricao","descricao","result","anuncios","setTimeout","hide","erro","alert","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["D:\\projetos\\MarketingFront\\MarketingAppFront\\src\\app\\Components\\pagina-principal\\pesquisa\\pesquisa.component.ts","D:\\projetos\\MarketingFront\\MarketingAppFront\\src\\app\\Components\\pagina-principal\\pesquisa\\pesquisa.component.html"],"sourcesContent":["import { AnuncioService } from 'src/app/Services/AnuncioService';\nimport { Component, OnInit } from '@angular/core';\nimport { Anuncio } from 'src/app/Models/Anuncio';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { FormControl } from '@angular/forms';\nimport { __values } from 'tslib';\nimport { tap, map, filter, distinctUntilChanged, debounceTime, switchMap} from 'rxjs/operators';\n\n\n@Component({\n  selector: 'app-pesquisa',\n  templateUrl: './pesquisa.component.html',\n  styleUrls: ['./pesquisa.component.css'],\n})\nexport class PesquisaComponent implements OnInit {\n\n  descricao: string = \"\";\n  public anuncios: Anuncio[] = [];\n  queryFiled = new FormControl();\n\n  constructor(\n    private anuncioService: AnuncioService,\n    private spinner: NgxSpinnerService) {}\n\n  ngOnInit(): void {\n    this.queryFiled.valueChanges\n    .pipe(\n      map(value => value.trim()),\n      filter(value => value.length >= 3),\n      debounceTime(200),\n      distinctUntilChanged(),\n      tap(value => console.log(value))\n      // switchMap( value => )\n    ).subscribe();\n  }\n\n  buscarAnunciosPorDescricao() {\n    debugger;\n\n    this.spinner.show();\n    this.anuncioService.BuscarTodosAnunciosOuPorDescricao(this.descricao).subscribe(\n      (result: any) => {\n        debugger;\n        if (result != null) this.anuncios = result;\n        setTimeout(() =>{\n          this.spinner.hide();\n        }, 500);\n      },\n      (erro) => {\n        alert('Erro ao buscar os anúncios.');\n        this.spinner.hide();\n      }\n    );\n  }\n}\n","<div>\n  <header style=\"background-color: darkblue; margin: 0; position: fixed; top: 0; left: 0; width: 100%; z-index: 99;\">\n    <section class=\"header-main border-bottom\">\n        <div class=\"container\">\n            <div class=\"row align-items-center\">\n                <div class=\"col-xl-2 col-lg-3 col-md-12\">\n                    <a routerLink=\"\" class=\"brand-wrap\" style=\"color: white;\">\n                       <span class=\"logo\">PRECOFAVORITO.COM</span>\n                       <span class=\"subTitleLogo\">Os melhores preços da cidade!</span>\n                    </a> <!-- brand-wrap.// -->\n                </div>\n                <div class=\"col-xl-6 col-lg-5 col-md-6\">\n                    <form class=\"search-header\">\n                        <div class=\"input-group w-100\">\n                            <input type=\"text\" class=\"form-control\" placeholder=\"O que você precisa?\" name=\"descricao\" [(ngModel)]=\"descricao\">\n                            <div class=\"input-group-append\">\n                              <button class=\"btn btn-success\" type=\"submit\" (click)=\"buscarAnunciosPorDescricao()\">\n                                <i class=\"fa fa-search\"></i> Buscar\n                              </button>\n                            </div>\n                        </div>\n                    </form> <!-- search-wrap .end// -->\n                </div> <!-- col.// -->\n                <div class=\"col-xl-4 col-lg-4 col-md-6\">\n                    <div class=\"widgets-wrap float-md-right\">\n                        <div class=\"widget-header mr-3\">\n                            <a href=\"#\" class=\"widget-view\">\n                                <div class=\"icon-area\">\n                                    <i class=\"fa fa-user\" style=\"color: white;\"></i>\n                                    <span class=\"notify\">3</span>\n                                </div>\n                                <small class=\"text\" style=\"color: white;\"> Meu Perfil </small>\n                            </a>\n                        </div>\n                        <!-- <div class=\"widget-header mr-3\">\n                            <a href=\"#\" class=\"widget-view\">\n                                <div class=\"icon-area\">\n                                    <i class=\"fa fa-comment-dots\" style=\"color: white;\"></i>\n                                    <span class=\"notify\">1</span>\n                                </div>\n                                <small class=\"text\" style=\"color: white;\"> Mensagens </small>\n                            </a>\n                        </div> -->\n                        <div class=\"widget-header mr-3\">\n                            <a [routerLink]=\"['/gerencial-empresa']\" class=\"widget-view\">\n                                <div class=\"icon-area\" style=\"color: white;\">\n                                    <i class=\"fa fa-store\"></i>\n                                </div>\n                                <small class=\"text\" style=\"color: white;\"> Gerencial </small>\n                            </a>\n                        </div>\n                        <div class=\"widget-header\">\n                            <a href=\"#\" class=\"widget-view\">\n                                <div class=\"icon-area\">\n                                    <i class=\"fa fa-address-book\" style=\"color: white;\"></i>\n                                </div>\n                                <small class=\"text\" style=\"color: white;\"> Administração </small>\n                            </a>\n                        </div>\n                    </div> <!-- widgets-wrap.// -->\n                </div> <!-- col.// -->\n            </div> <!-- row.// -->\n        </div> <!-- container.// -->\n    </section> <!-- header-main .// -->\n\n\n\n    <!-- <nav class=\"navbar navbar-main navbar-expand-lg border-bottom\">\n    <div class=\"container\">\n        <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#main_nav\" aria-controls=\"main_nav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n        <span class=\"navbar-toggler-icon\"></span>\n        </button>\n\n      <div class=\"collapse navbar-collapse\" id=\"main_nav\">\n        <ul class=\"navbar-nav\"> -->\n            <!--<li class=\"nav-item dropdown\">\n                <a class=\"nav-link dropdown-toggle\" data-toggle=\"dropdown\" href=\"#\"> <i class=\"fa fa-bars text-muted mr-2\"></i> Demo pages </a>\n                <div class=\"dropdown-menu dropdown-large\">\n                     <nav class=\"row\">\n                        <div class=\"col-6\">\n                            <a href=\"page-index-1.html\">Home page 1</a>\n                            <a href=\"page-index-2.html\">Home page 2</a>\n                            <a href=\"page-category.html\">All category</a>\n                            <a href=\"page-listing-large.html\">Listing list</a>\n                            <a href=\"page-listing-grid.html\">Listing grid</a>\n                            <a href=\"page-shopping-cart.html\">Shopping cart</a>\n                            <a href=\"page-detail-product.html\">Product detail</a>\n                            <a href=\"page-content.html\">Page content</a>\n                            <a href=\"page-user-login.html\">Page login</a>\n                            <a href=\"page-user-register.html\">Page register</a>\n                        </div>\n                        <div class=\"col-6\">\n                            <a href=\"page-profile-main.html\">Profile main</a>\n                            <a href=\"page-profile-orders.html\">Profile orders</a>\n                            <a href=\"page-profile-seller.html\">Profile seller</a>\n                            <a href=\"page-profile-wishlist.html\">Profile wishlist</a>\n                            <a href=\"page-profile-setting.html\">Profile setting</a>\n                            <a href=\"page-profile-address.html\">Profile address</a>\n                            <a href=\"rtl-page-index-1.html\">RTL home page</a>\n                            <a href=\"page-components.html\" target=\"_blank\">More components</a>\n                        </div>\n                    </nav>  row end .//\n                </div> <!--  dropdown-menu dropdown-large end.//\n            </li>-->\n            <!-- <li class=\"nav-item\">\n                <a class=\"nav-link\" href=\"#\">Ready to ship</a>\n            </li>\n            <li class=\"nav-item\">\n            <a class=\"nav-link\" href=\"#\">Trade shows</a>\n            </li>\n            <li class=\"nav-item\">\n            <a class=\"nav-link\" href=\"#\">Services</a>\n            </li>\n            <li class=\"nav-item\">\n            <a class=\"nav-link\" href=\"#\">Sell with us</a>\n            </li> -->\n        <!-- </ul>\n        <ul class=\"navbar-nav ml-md-auto\"> -->\n                <!-- <li class=\"nav-item\">\n                <a class=\"nav-link\" href=\"#\">Get the app</a>\n            </li>\n            <li class=\"nav-item dropdown\">\n                <a class=\"nav-link dropdown-toggle\" href=\"http://example.com\" data-toggle=\"dropdown\">English</a>\n                <div class=\"dropdown-menu dropdown-menu-right\">\n                <a class=\"dropdown-item\" href=\"#\">Russian</a>\n                <a class=\"dropdown-item\" href=\"#\">French</a>\n                <a class=\"dropdown-item\" href=\"#\">Spanish</a>\n                <a class=\"dropdown-item\" href=\"#\">Chinese</a>\n                </div>\n            </li> -->\n            <!-- </ul>\n         </div> <!--collapse .// -->\n    <!-- </div>\n    </nav>  -->\n\n  </header>\n</div>\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}