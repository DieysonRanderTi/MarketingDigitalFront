{"ast":null,"code":"import { FormControl } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Services/AnuncioService\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"ngx-spinner\";\nimport * as i4 from \"ngx-toastr\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\nfunction AnuncioComponent_div_46_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36);\n    i0.ɵɵelement(1, \"img\", 37);\n    i0.ɵɵelementStart(2, \"figcaption\", 38)(3, \"p\", 39);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 40);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\", 40);\n    i0.ɵɵelement(9, \"i\", 41);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\", 42);\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"currency\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const anuncio_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"https://localhost:5001/resources/images/\", anuncio_r1.imagem_url, \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(anuncio_r1.descricao);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Promo\\u00E7\\u00E3o at\\u00E9 \", i0.ɵɵpipeBind2(7, 5, anuncio_r1.data_validade, \"dd/MM/yy\"), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", anuncio_r1.empresa.nome_fantasia, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(13, 8, anuncio_r1.preco, \"BRL\"), \" \");\n  }\n}\nfunction AnuncioComponent_div_46_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\");\n    i0.ɵɵtext(2, \"Nenhum an\\u00FAncio para mostrar.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/detalhes-anuncio\", a1];\n};\nfunction AnuncioComponent_div_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"a\", 32)(2, \"div\", 33);\n    i0.ɵɵtemplate(3, AnuncioComponent_div_46_div_3_Template, 14, 11, \"div\", 34);\n    i0.ɵɵtemplate(4, AnuncioComponent_div_46_div_4_Template, 3, 0, \"div\", 35);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const anuncio_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(3, _c0, anuncio_r1.id));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.anuncios != null);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.anuncios == null);\n  }\n}\nconst _c1 = function () {\n  return [\"/gerencial-empresa\"];\n};\nexport class AnuncioComponent {\n  constructor(anuncioservice, route, spinner, toast) {\n    this.anuncioservice = anuncioservice;\n    this.route = route;\n    this.spinner = spinner;\n    this.toast = toast;\n    this.descricao = '';\n    this.anuncios = [];\n    this.queryField = new FormControl();\n  }\n  ngOnInit() {\n    this.buscarTodosAnuncios();\n    // debugger;\n    // this.results = this.queryField.valueChanges\n    //   .pipe(\n    //     map((value) => value.trim()),\n    //     filter((value) => value.length >= 3),\n    //     debounceTime(200),\n    //     distinctUntilChanged(),\n    //     switchMap( async value => this.buscarAnunciosPorDescricao(value),\n    //     )\n    //   ),\n    //   tap((res: any) => this.anuncios = res.anuncios )\n    //   map((res: any => res.results));\n  }\n\n  buscarTodosAnuncios() {\n    this.spinner.show();\n    this.anuncioservice.BuscarTodosAnunciosOuPorDescricao().subscribe(result => {\n      debugger;\n      if (result != null) this.anuncios = result;\n      setTimeout(() => {\n        this.spinner.hide();\n      }, 500);\n    }, erro => {\n      alert('Erro ao buscar os anúncios.');\n      this.spinner.hide();\n    });\n  }\n  buscarAnunciosPorDescricao() {\n    debugger;\n    if (this.descricao.trim() == \"\") {\n      this.buscarTodosAnuncios();\n    } else if (this.descricao.length < 3) {\n      this.toast.error('Digite no minimo 3 caracteres para fazer a busca.');\n    } else {\n      this.spinner.show();\n      this.anuncioservice.BuscarTodosAnunciosOuPorDescricao(this.descricao).subscribe(result => {\n        debugger;\n        if (result != null) this.anuncios = result;\n        setTimeout(() => {\n          this.spinner.hide();\n        }, 500);\n        if (result == null) {\n          this.spinner.hide();\n          this.toast.error('Nehum resultado para a busca: ' + this.descricao.toLocaleUpperCase());\n        }\n      }, erro => {\n        this.toast.error('Erro ao buscar os anúncios. Verifique a conexão com a internet.');\n        this.spinner.hide();\n      });\n    }\n  }\n  abrirModalAnuncio(anuncio) {\n    // const modalRef = this.modalService.open(DetalhesAnuncioComponent);\n    // modalRef.componentInstance.anuncio = anuncio;\n  }\n}\nAnuncioComponent.ɵfac = function AnuncioComponent_Factory(t) {\n  return new (t || AnuncioComponent)(i0.ɵɵdirectiveInject(i1.AnuncioService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.NgxSpinnerService), i0.ɵɵdirectiveInject(i4.ToastrService));\n};\nAnuncioComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AnuncioComponent,\n  selectors: [[\"app-anuncio\"]],\n  decls: 47,\n  vars: 4,\n  consts: [[2, \"background-color\", \"darkblue\", \"margin\", \"0\", \"position\", \"fixed\", \"top\", \"0\", \"left\", \"0\", \"width\", \"100%\", \"z-index\", \"99\"], [1, \"header-main\", \"border-bottom\"], [1, \"container\"], [1, \"row\", \"align-items-center\"], [1, \"col-xl-2\", \"col-lg-3\", \"col-md-12\"], [\"routerLink\", \"\", 1, \"brand-wrap\", 2, \"color\", \"white\"], [1, \"logo\"], [1, \"subTitleLogo\"], [1, \"col-xl-6\", \"col-lg-5\", \"col-md-6\"], [1, \"search-header\"], [1, \"input-group\", \"w-100\"], [\"type\", \"text\", \"placeholder\", \"O que voc\\u00EA precisa?\", \"name\", \"descricao\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"input-group-append\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"fa\", \"fa-search\"], [1, \"col-xl-4\", \"col-lg-4\", \"col-md-6\"], [1, \"widgets-wrap\", \"float-md-right\"], [1, \"widget-header\", \"mr-3\"], [\"href\", \"#\", 1, \"widget-view\"], [1, \"icon-area\"], [1, \"fa\", \"fa-user\", 2, \"color\", \"white\"], [1, \"notify\"], [1, \"text\", 2, \"color\", \"white\"], [1, \"widget-view\", 3, \"routerLink\"], [1, \"icon-area\", 2, \"color\", \"white\"], [1, \"fa\", \"fa-store\"], [1, \"widget-header\"], [1, \"fa\", \"fa-address-book\", 2, \"color\", \"white\"], [1, \"padding-bottom-sm\"], [1, \"text-uppercase\", \"textPromocaoTitle\"], [1, \"row\", \"col-xl-12\", \"col-lg-4\", \"col-md-3\", \"col-sm-2\"], [4, \"ngFor\", \"ngForOf\"], [\"title\", \"Clique e saiba mais\", 3, \"routerLink\"], [1, \"col-xl-12\", \"col-lg-4\", \"col-md-3\", \"col-sm-2\"], [\"class\", \"card cardAnuncio\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"card\", \"cardAnuncio\"], [1, \"img-wrap\", 3, \"src\"], [1, \"info-wrap\"], [1, \"descricao\"], [1, \"informacoes\", \"text-center\"], [1, \"fa\", \"fa-shopping-cart\"], [1, \"preco\"]],\n  template: function AnuncioComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\")(1, \"header\", 0)(2, \"section\", 1)(3, \"div\", 2)(4, \"div\", 3)(5, \"div\", 4)(6, \"a\", 5)(7, \"span\", 6);\n      i0.ɵɵtext(8, \"PRECOFAVORITO.COM\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"span\", 7);\n      i0.ɵɵtext(10, \"Os melhores pre\\u00E7os da cidade!\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(11, \"div\", 8)(12, \"form\", 9)(13, \"div\", 10)(14, \"input\", 11);\n      i0.ɵɵlistener(\"ngModelChange\", function AnuncioComponent_Template_input_ngModelChange_14_listener($event) {\n        return ctx.descricao = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"div\", 12)(16, \"button\", 13);\n      i0.ɵɵlistener(\"click\", function AnuncioComponent_Template_button_click_16_listener() {\n        return ctx.buscarAnunciosPorDescricao();\n      });\n      i0.ɵɵelement(17, \"i\", 14);\n      i0.ɵɵtext(18, \" Buscar \");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(19, \"div\", 15)(20, \"div\", 16)(21, \"div\", 17)(22, \"a\", 18)(23, \"div\", 19);\n      i0.ɵɵelement(24, \"i\", 20);\n      i0.ɵɵelementStart(25, \"span\", 21);\n      i0.ɵɵtext(26, \"3\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(27, \"small\", 22);\n      i0.ɵɵtext(28, \" Meu Perfil \");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(29, \"div\", 17)(30, \"a\", 23)(31, \"div\", 24);\n      i0.ɵɵelement(32, \"i\", 25);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"small\", 22);\n      i0.ɵɵtext(34, \" Gerencial \");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(35, \"div\", 26)(36, \"a\", 18)(37, \"div\", 19);\n      i0.ɵɵelement(38, \"i\", 27);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(39, \"small\", 22);\n      i0.ɵɵtext(40, \" Administra\\u00E7\\u00E3o \");\n      i0.ɵɵelementEnd()()()()()()()()()();\n      i0.ɵɵelementStart(41, \"section\", 28)(42, \"header\")(43, \"h5\", 29);\n      i0.ɵɵtext(44, \" Os melhores Pre\\u00E7os est\\u00E3o aqui, confira! \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(45, \"div\", 30);\n      i0.ɵɵtemplate(46, AnuncioComponent_div_46_Template, 5, 5, \"div\", 31);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"ngModel\", ctx.descricao);\n      i0.ɵɵadvance(16);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(3, _c1));\n      i0.ɵɵadvance(16);\n      i0.ɵɵproperty(\"ngForOf\", ctx.anuncios);\n    }\n  },\n  dependencies: [i5.NgForOf, i5.NgIf, i2.RouterLink, i6.ɵNgNoValidate, i6.DefaultValueAccessor, i6.NgControlStatus, i6.NgControlStatusGroup, i6.NgModel, i6.NgForm, i5.CurrencyPipe, i5.DatePipe],\n  styles: [\".preco[_ngcontent-%COMP%]{\\r\\n  color: white;\\r\\n  font-size: 20px;\\r\\n  font-weight: 900;\\r\\n  background-color: #00b517;\\r\\n  border-radius: 10px;\\r\\n  text-align: center;\\r\\n  width: auto;\\r\\n  padding: 5px;\\r\\n  margin-top: 10px;\\r\\n}\\r\\n\\r\\n.descricao[_ngcontent-%COMP%]{\\r\\n  font-family: SignikaRegular,sans-serif;\\r\\n  color: #777676;\\r\\n  font-size: 15px;\\r\\n  font-weight: bold;\\r\\n  word-wrap:break-word;\\r\\n  text-align: center;\\r\\n  margin-bottom: 5px;\\r\\n}\\r\\n\\r\\n.cardAnuncio[_ngcontent-%COMP%]{\\r\\n  width: 200px;\\r\\n  height: 300px;\\r\\n  padding: 10px;\\r\\n  border-radius: 20px;\\r\\n  margin-top: 10px;\\r\\n  margin-bottom: 10px;\\r\\n  transition: all 0.5s;\\r\\n  cursor: pointer;\\r\\n  border: none;\\r\\n  box-shadow: 10px 5px 5px rgb(168, 168, 171);\\r\\n}\\r\\n\\r\\n.cardAnuncio[_ngcontent-%COMP%]:hover{\\r\\n  transform: scale(1.1);\\r\\n}\\r\\n\\r\\n.textPromocaoTitle[_ngcontent-%COMP%]{\\r\\n  background-color: darkblue;\\r\\n  color: white;\\r\\n  border-radius: 15px;\\r\\n  padding: 5px;\\r\\n}\\r\\n\\r\\n.textApenas[_ngcontent-%COMP%]{\\r\\n  font-size: 10px;\\r\\n  text-align: initial;\\r\\n}\\r\\n\\r\\n.informacoes[_ngcontent-%COMP%]{\\r\\n  margin: 0;\\r\\n}\\r\\n\\r\\na[_ngcontent-%COMP%]{\\r\\n  color: #959595;\\r\\n}\\r\\n\\r\\n.menu[_ngcontent-%COMP%] {\\r\\n  position: fixed;\\r\\n  width: auto;\\r\\n}\\r\\n\\r\\n.logo[_ngcontent-%COMP%]{\\r\\n  font-size: 18px;\\r\\n  \\r\\n  color: white;\\r\\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\\r\\n  font-weight: bold;\\r\\n  border-radius: 15px;\\r\\n  padding-top: 5px;\\r\\n  padding-bottom: 10px;\\r\\n  padding-left: 5px;\\r\\n  padding-right: 5px;\\r\\n  margin-right: 20px;\\r\\n}\\r\\n\\r\\n.subTitleLogo[_ngcontent-%COMP%]{\\r\\n  font-size: 10px;\\r\\n  font-style: italic;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvQ29tcG9uZW50cy9wYWdpbmEtcHJpbmNpcGFsL2FudW5jaW8vYW51bmNpby5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsWUFBWTtFQUNaLGVBQWU7RUFDZixnQkFBZ0I7RUFDaEIseUJBQXlCO0VBQ3pCLG1CQUFtQjtFQUNuQixrQkFBa0I7RUFDbEIsV0FBVztFQUNYLFlBQVk7RUFDWixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxzQ0FBc0M7RUFDdEMsY0FBYztFQUNkLGVBQWU7RUFDZixpQkFBaUI7RUFDakIsb0JBQW9CO0VBQ3BCLGtCQUFrQjtFQUNsQixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxZQUFZO0VBQ1osYUFBYTtFQUNiLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsZ0JBQWdCO0VBQ2hCLG1CQUFtQjtFQUNuQixvQkFBb0I7RUFDcEIsZUFBZTtFQUNmLFlBQVk7RUFDWiwyQ0FBMkM7QUFDN0M7O0FBRUE7RUFFRSxxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSwwQkFBMEI7RUFDMUIsWUFBWTtFQUNaLG1CQUFtQjtFQUNuQixZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsU0FBUztBQUNYOztBQUVBO0VBQ0UsY0FBYztBQUNoQjs7QUFFQTtFQUNFLGVBQWU7RUFDZixXQUFXO0FBQ2I7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsNkJBQTZCO0VBQzdCLFlBQVk7RUFDWiw0REFBNEQ7RUFDNUQsaUJBQWlCO0VBQ2pCLG1CQUFtQjtFQUNuQixnQkFBZ0I7RUFDaEIsb0JBQW9CO0VBQ3BCLGlCQUFpQjtFQUNqQixrQkFBa0I7RUFDbEIsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLGtCQUFrQjtBQUNwQiIsInNvdXJjZXNDb250ZW50IjpbIi5wcmVjb3tcclxuICBjb2xvcjogd2hpdGU7XHJcbiAgZm9udC1zaXplOiAyMHB4O1xyXG4gIGZvbnQtd2VpZ2h0OiA5MDA7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwYjUxNztcclxuICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICB3aWR0aDogYXV0bztcclxuICBwYWRkaW5nOiA1cHg7XHJcbiAgbWFyZ2luLXRvcDogMTBweDtcclxufVxyXG5cclxuLmRlc2NyaWNhb3tcclxuICBmb250LWZhbWlseTogU2lnbmlrYVJlZ3VsYXIsc2Fucy1zZXJpZjtcclxuICBjb2xvcjogIzc3NzY3NjtcclxuICBmb250LXNpemU6IDE1cHg7XHJcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgd29yZC13cmFwOmJyZWFrLXdvcmQ7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIG1hcmdpbi1ib3R0b206IDVweDtcclxufVxyXG5cclxuLmNhcmRBbnVuY2lve1xyXG4gIHdpZHRoOiAyMDBweDtcclxuICBoZWlnaHQ6IDMwMHB4O1xyXG4gIHBhZGRpbmc6IDEwcHg7XHJcbiAgYm9yZGVyLXJhZGl1czogMjBweDtcclxuICBtYXJnaW4tdG9wOiAxMHB4O1xyXG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbiAgdHJhbnNpdGlvbjogYWxsIDAuNXM7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIGJvcmRlcjogbm9uZTtcclxuICBib3gtc2hhZG93OiAxMHB4IDVweCA1cHggcmdiKDE2OCwgMTY4LCAxNzEpO1xyXG59XHJcblxyXG4uY2FyZEFudW5jaW86aG92ZXJ7XHJcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDEuMSk7XHJcbiAgdHJhbnNmb3JtOiBzY2FsZSgxLjEpO1xyXG59XHJcblxyXG4udGV4dFByb21vY2FvVGl0bGV7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogZGFya2JsdWU7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIGJvcmRlci1yYWRpdXM6IDE1cHg7XHJcbiAgcGFkZGluZzogNXB4O1xyXG59XHJcblxyXG4udGV4dEFwZW5hc3tcclxuICBmb250LXNpemU6IDEwcHg7XHJcbiAgdGV4dC1hbGlnbjogaW5pdGlhbDtcclxufVxyXG5cclxuLmluZm9ybWFjb2Vze1xyXG4gIG1hcmdpbjogMDtcclxufVxyXG5cclxuYXtcclxuICBjb2xvcjogIzk1OTU5NTtcclxufVxyXG5cclxuLm1lbnUge1xyXG4gIHBvc2l0aW9uOiBmaXhlZDtcclxuICB3aWR0aDogYXV0bztcclxufVxyXG5cclxuLmxvZ297XHJcbiAgZm9udC1zaXplOiAxOHB4O1xyXG4gIC8qIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOyAqL1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxuICBmb250LWZhbWlseTogJ1NlZ29lIFVJJywgVGFob21hLCBHZW5ldmEsIFZlcmRhbmEsIHNhbnMtc2VyaWY7XHJcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgYm9yZGVyLXJhZGl1czogMTVweDtcclxuICBwYWRkaW5nLXRvcDogNXB4O1xyXG4gIHBhZGRpbmctYm90dG9tOiAxMHB4O1xyXG4gIHBhZGRpbmctbGVmdDogNXB4O1xyXG4gIHBhZGRpbmctcmlnaHQ6IDVweDtcclxuICBtYXJnaW4tcmlnaHQ6IDIwcHg7XHJcbn1cclxuXHJcbi5zdWJUaXRsZUxvZ297XHJcbiAgZm9udC1zaXplOiAxMHB4O1xyXG4gIGZvbnQtc3R5bGU6IGl0YWxpYztcclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["FormControl","i0","AnuncioComponent","constructor","anuncioservice","route","spinner","toast","ngOnInit","buscarTodosAnuncios","show","BuscarTodosAnunciosOuPorDescricao","subscribe","result","anuncios","setTimeout","hide","erro","alert","buscarAnunciosPorDescricao","descricao","trim","length","error","toLocaleUpperCase","abrirModalAnuncio","anuncio","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\projetos\\MarketingFront\\MarketingAppFront\\src\\app\\Components\\pagina-principal\\anuncio\\anuncio.component.ts","D:\\projetos\\MarketingFront\\MarketingAppFront\\src\\app\\Components\\pagina-principal\\anuncio\\anuncio.component.html"],"sourcesContent":["import { NgxSpinnerService } from 'ngx-spinner';\nimport { DetalhesAnuncioComponent } from './../../Anuncio/detalhes-anuncio/detalhes-anuncio.component';\nimport { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Anuncio } from '../../../Models/Anuncio';\nimport { AnuncioService } from 'src/app/Services/AnuncioService';\nimport { FormControl } from '@angular/forms';\nimport { Observable } from 'rxjs/internal/Observable';\nimport {\n  tap,\n  map,\n  filter,\n  distinctUntilChanged,\n  debounceTime,\n  switchMap,\n} from 'rxjs/operators';\nimport { ToastrService } from 'ngx-toastr';\n\n@Component({\n  selector: 'app-anuncio',\n  templateUrl: './anuncio.component.html',\n  styleUrls: ['./anuncio.component.css'],\n})\nexport class AnuncioComponent implements OnInit {\n  descricao: string = '';\n  public anuncios: Anuncio[] = [];\n  queryField = new FormControl();\n  results: Observable<any>;\n\n  constructor(\n    private anuncioservice: AnuncioService,\n    private route: Router,\n    private spinner: NgxSpinnerService,\n    private toast: ToastrService,\n  ) {}\n\n  ngOnInit(): void {\n    this.buscarTodosAnuncios();\n    // debugger;\n    // this.results = this.queryField.valueChanges\n    //   .pipe(\n    //     map((value) => value.trim()),\n    //     filter((value) => value.length >= 3),\n    //     debounceTime(200),\n    //     distinctUntilChanged(),\n    //     switchMap( async value => this.buscarAnunciosPorDescricao(value),\n    //     )\n    //   ),\n    //   tap((res: any) => this.anuncios = res.anuncios )\n    //   map((res: any => res.results));\n  }\n\n  buscarTodosAnuncios() {\n    this.spinner.show();\n    this.anuncioservice.BuscarTodosAnunciosOuPorDescricao().subscribe(\n      (result: any) => {\n        debugger;\n        if (result != null) this.anuncios = result;\n        setTimeout(() => {\n          this.spinner.hide();\n        }, 500);\n      },\n      (erro) => {\n        alert('Erro ao buscar os anúncios.');\n        this.spinner.hide();\n      }\n    );\n  }\n\n  buscarAnunciosPorDescricao() {\ndebugger;\n    if(this.descricao.trim() == \"\"){\n      this.buscarTodosAnuncios();\n    }\n    else if(this.descricao.length < 3){\n      this.toast.error('Digite no minimo 3 caracteres para fazer a busca.');\n    }\n    else{\n      this.spinner.show();\n      this.anuncioservice\n        .BuscarTodosAnunciosOuPorDescricao(this.descricao)\n        .subscribe(\n          (result: any) => {\n            debugger;\n            if (result != null) this.anuncios = result;\n            setTimeout(() => {\n              this.spinner.hide();\n            }, 500);\n            if(result == null){\n              this.spinner.hide();\n              this.toast.error('Nehum resultado para a busca: '+this.descricao.toLocaleUpperCase());\n            }\n          },\n          (erro) => {\n            this.toast.error('Erro ao buscar os anúncios. Verifique a conexão com a internet.');\n            this.spinner.hide();\n          }\n        );\n    }\n  }\n\n  abrirModalAnuncio(anuncio: Anuncio) {\n    // const modalRef = this.modalService.open(DetalhesAnuncioComponent);\n    // modalRef.componentInstance.anuncio = anuncio;\n  }\n}\n","<div>\n  <header\n    style=\"\n      background-color: darkblue;\n      margin: 0;\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      z-index: 99;\n    \"\n  >\n    <section class=\"header-main border-bottom\">\n      <div class=\"container\">\n        <div class=\"row align-items-center\">\n          <div class=\"col-xl-2 col-lg-3 col-md-12\">\n            <a routerLink=\"\" class=\"brand-wrap\" style=\"color: white\">\n              <span class=\"logo\">PRECOFAVORITO.COM</span>\n              <span class=\"subTitleLogo\">Os melhores preços da cidade!</span>\n            </a>\n            <!-- brand-wrap.// -->\n          </div>\n          <div class=\"col-xl-6 col-lg-5 col-md-6\">\n            <form class=\"search-header\">\n              <div class=\"input-group w-100\">\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  placeholder=\"O que você precisa?\"\n                  name=\"descricao\"\n                  [(ngModel)]=\"descricao\"\n                />\n                <div class=\"input-group-append\">\n                  <button\n                    class=\"btn btn-success\"\n                    type=\"submit\"\n                    (click)=\"buscarAnunciosPorDescricao()\"\n                  >\n                    <i class=\"fa fa-search\"></i> Buscar\n                  </button>\n                </div>\n              </div>\n            </form>\n            <!-- search-wrap .end// -->\n          </div>\n          <!-- col.// -->\n          <div class=\"col-xl-4 col-lg-4 col-md-6\">\n            <div class=\"widgets-wrap float-md-right\">\n              <div class=\"widget-header mr-3\">\n                <a href=\"#\" class=\"widget-view\">\n                  <div class=\"icon-area\">\n                    <i class=\"fa fa-user\" style=\"color: white\"></i>\n                    <span class=\"notify\">3</span>\n                  </div>\n                  <small class=\"text\" style=\"color: white\"> Meu Perfil </small>\n                </a>\n              </div>\n              <!-- <div class=\"widget-header mr-3\">\n                            <a href=\"#\" class=\"widget-view\">\n                                <div class=\"icon-area\">\n                                    <i class=\"fa fa-comment-dots\" style=\"color: white;\"></i>\n                                    <span class=\"notify\">1</span>\n                                </div>\n                                <small class=\"text\" style=\"color: white;\"> Mensagens </small>\n                            </a>\n                        </div> -->\n              <div class=\"widget-header mr-3\">\n                <a [routerLink]=\"['/gerencial-empresa']\" class=\"widget-view\">\n                  <div class=\"icon-area\" style=\"color: white\">\n                    <i class=\"fa fa-store\"></i>\n                  </div>\n                  <small class=\"text\" style=\"color: white\"> Gerencial </small>\n                </a>\n              </div>\n              <div class=\"widget-header\">\n                <a href=\"#\" class=\"widget-view\">\n                  <div class=\"icon-area\">\n                    <i class=\"fa fa-address-book\" style=\"color: white\"></i>\n                  </div>\n                  <small class=\"text\" style=\"color: white\">\n                    Administração\n                  </small>\n                </a>\n              </div>\n            </div>\n            <!-- widgets-wrap.// -->\n          </div>\n          <!-- col.// -->\n        </div>\n        <!-- row.// -->\n      </div>\n      <!-- container.// -->\n    </section>\n    <!-- header-main .// -->\n  </header>\n</div>\n<section class=\"padding-bottom-sm\">\n  <header>\n    <h5 class=\"text-uppercase textPromocaoTitle\">\n      Os melhores Preços estão aqui, confira!\n    </h5>\n  </header>\n  <div class=\"row col-xl-12 col-lg-4 col-md-3 col-sm-2\">\n    <div *ngFor=\"let anuncio of anuncios\">\n      <a\n        [routerLink]=\"['/detalhes-anuncio', anuncio.id]\"\n        title=\"Clique e saiba mais\"\n      >\n        <div class=\"col-xl-12 col-lg-4 col-md-3 col-sm-2\">\n          <div class=\"card cardAnuncio\" *ngIf=\"anuncios != null\">\n            <img\n              class=\"img-wrap\"\n              src=\"https://localhost:5001/resources/images/{{\n                anuncio.imagem_url\n              }}\"\n            />\n            <figcaption class=\"info-wrap\">\n              <p class=\"descricao\">{{ anuncio.descricao }}</p>\n              <p class=\"informacoes text-center\">\n                Promoção até {{ anuncio.data_validade | date : \"dd/MM/yy\" }}\n              </p>\n              <p class=\"informacoes text-center\">\n                <i class=\"fa fa-shopping-cart\"></i>\n                {{ anuncio.empresa.nome_fantasia }}\n              </p>\n              <p class=\"preco\">\n                {{ anuncio.preco | currency : \"BRL\" }}\n              </p>\n            </figcaption>\n          </div>\n          <div *ngIf=\"anuncios == null\">\n            <p>Nenhum anúncio para mostrar.</p>\n          </div>\n        </div>\n      </a>\n    </div>\n  </div>\n</section>\n\n<!-- =============== SECTION ITEMS .//END =============== -->\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}