{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./../../../Services/EmpresaService\";\nimport * as i2 from \"ngx-spinner\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nconst _c0 = function (a1) {\n  return [\"/detalhes-anuncio\", a1];\n};\nconst _c1 = function (a1) {\n  return [\"/cadastrar-anuncio\", a1];\n};\nfunction GerencialEmpresaComponent_tr_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10, \"Produto com validade pr\\u00F3xima\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\", 14);\n    i0.ɵɵtext(12, \"147\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"button\", 15);\n    i0.ɵɵelement(14, \"i\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"button\", 17);\n    i0.ɵɵelement(16, \"i\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"button\", 19);\n    i0.ɵɵelement(18, \"i\", 20);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const anuncio_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(anuncio_r1.descricao);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 5, anuncio_r1.preco, \"BRL\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(8, 8, anuncio_r1.data_validade, \"dd/MM/yy\"));\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(11, _c0, anuncio_r1.id));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(13, _c1, anuncio_r1.id));\n  }\n}\nconst _c2 = function () {\n  return [\"/cadastrar-anuncio\"];\n};\nexport class GerencialEmpresaComponent {\n  constructor(empresaService, spinner) {\n    this.empresaService = empresaService;\n    this.spinner = spinner;\n    this.anuncios = [];\n    this.anunciosNaoPublicados = 0;\n  }\n  ngOnInit() {\n    this.BuscarEmpresa();\n  }\n  BuscarEmpresa() {\n    debugger;\n    this.spinner.show();\n    this.empresaService.BuscarEmpresaESeusAnuncios(\"3\").subscribe(result => {\n      debugger;\n      if (result != null) {\n        this.empresa = result;\n        this.anuncios = result.anuncios;\n        this.anunciosNaoPublicados = result.quantidade_anuncios - result.anuncios.length;\n        setTimeout(() => {\n          this.spinner.hide();\n        }, 500);\n      } else {\n        setTimeout(() => {\n          this.spinner.hide();\n        }, 500);\n        alert(`$ Nenhuma empresa encontrada. Verifique a conexão com a internet.`);\n      }\n    });\n  }\n}\nGerencialEmpresaComponent.ɵfac = function GerencialEmpresaComponent_Factory(t) {\n  return new (t || GerencialEmpresaComponent)(i0.ɵɵdirectiveInject(i1.EmpresaService), i0.ɵɵdirectiveInject(i2.NgxSpinnerService));\n};\nGerencialEmpresaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: GerencialEmpresaComponent,\n  selectors: [[\"app-gerencial-empresa\"]],\n  inputs: {\n    empresa: \"empresa\"\n  },\n  decls: 43,\n  vars: 6,\n  consts: [[1, \"p-3\", \"text-center\"], [1, \"container\"], [1, \"row\", \"topo\"], [1, \"col-lg-9\", \"col-md-9\", \"col-sm-9\"], [1, \"col-lg-3\", \"col-md-3\", \"col-sm-3\"], [1, \"btn\", \"btn-success\", 3, \"routerLink\"], [1, \"fa\", \"fa-plus\"], [\"routerLink\", \"\", 1, \"btn\", \"btn-outline-primary\"], [1, \"fa\", \"fa-home\"], [1, \"row\"], [1, \"col\"], [1, \"table\", \"table-striped\", \"table-bordered\", \"text-center\"], [1, \"text-center\"], [4, \"ngFor\", \"ngForOf\"], [\"title\", \"147 pessoas clicaram no seu produto\"], [\"title\", \"Ver detalhes\", 1, \"btn\", \"btn-outline-success\", \"botoes\", 3, \"routerLink\"], [1, \"fa\", \"fa-eye\"], [\"title\", \"Editar\", 1, \"btn\", \"btn-outline-primary\", \"botoes\", 3, \"routerLink\"], [1, \"fa\", \"fa-edit\"], [\"title\", \"Apagar\", 1, \"btn\", \"btn-outline-danger\", \"botoes\"], [1, \"fa\", \"fa-eraser\"]],\n  template: function GerencialEmpresaComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h3\", 0);\n      i0.ɵɵtext(1, \"Gerencial Empresa\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 1)(3, \"div\", 2)(4, \"div\", 3)(5, \"h4\");\n      i0.ɵɵtext(6);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"div\", 4)(8, \"button\", 5);\n      i0.ɵɵelement(9, \"i\", 6);\n      i0.ɵɵtext(10, \" Novo an\\u00FAncio\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"button\", 7);\n      i0.ɵɵelement(12, \"i\", 8);\n      i0.ɵɵtext(13, \" In\\u00EDcio\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(14, \"div\", 9)(15, \"div\", 10)(16, \"span\");\n      i0.ɵɵtext(17, \"Voc\\u00EA tem \");\n      i0.ɵɵelementStart(18, \"strong\");\n      i0.ɵɵtext(19);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(20, \" an\\u00FAncios ativos na plataforma.\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(21, \"div\", 9)(22, \"div\", 10)(23, \"span\");\n      i0.ɵɵtext(24, \"Voc\\u00EA pode cadastrar mais \");\n      i0.ɵɵelementStart(25, \"strong\");\n      i0.ɵɵtext(26);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(27, \" an\\u00FAncios.\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(28, \"table\", 11)(29, \"thead\")(30, \"tr\")(31, \"th\");\n      i0.ɵɵtext(32, \"Produto\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"th\");\n      i0.ɵɵtext(34, \"Pre\\u00E7o\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"th\");\n      i0.ɵɵtext(36, \"Validade da Promo\\u00E7\\u00E3o\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"th\");\n      i0.ɵɵtext(38, \"Observa\\u00E7\\u00E3o\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(39, \"th\");\n      i0.ɵɵtext(40, \"Cliques\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(41, \"tbody\", 12);\n      i0.ɵɵtemplate(42, GerencialEmpresaComponent_tr_42_Template, 19, 15, \"tr\", 13);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate1(\"Bem vindo(a) \", ctx.empresa.nome_fantasia, \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(5, _c2));\n      i0.ɵɵadvance(11);\n      i0.ɵɵtextInterpolate(ctx.empresa.anuncios.length);\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate(ctx.anunciosNaoPublicados);\n      i0.ɵɵadvance(16);\n      i0.ɵɵproperty(\"ngForOf\", ctx.anuncios);\n    }\n  },\n  dependencies: [i3.NgForOf, i4.RouterLink, i3.CurrencyPipe, i3.DatePipe],\n  styles: [\".topo[_ngcontent-%COMP%]{\\r\\n  margin: 10px;\\r\\n}\\r\\n\\r\\n.botoes[_ngcontent-%COMP%]{\\r\\n  margin: 5px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvQ29tcG9uZW50cy9FbXByZXNhL2dlcmVuY2lhbC1lbXByZXNhL2dlcmVuY2lhbC1lbXByZXNhLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxXQUFXO0FBQ2IiLCJzb3VyY2VzQ29udGVudCI6WyIudG9wb3tcclxuICBtYXJnaW46IDEwcHg7XHJcbn1cclxuXHJcbi5ib3RvZXN7XHJcbiAgbWFyZ2luOiA1cHg7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","GerencialEmpresaComponent","constructor","empresaService","spinner","ngOnInit","BuscarEmpresa","show","BuscarEmpresaESeusAnuncios","subscribe","result","empresa","anuncios","anunciosNaoPublicados","quantidade_anuncios","length","setTimeout","hide","alert","selectors","inputs","decls","vars","consts","template"],"sourceRoot":"","sources":["D:\\projetos\\MarketingFront\\MarketingAppFront\\src\\app\\Components\\Empresa\\gerencial-empresa\\gerencial-empresa.component.html","D:\\projetos\\MarketingFront\\MarketingAppFront\\src\\app\\Components\\Empresa\\gerencial-empresa\\gerencial-empresa.component.ts"],"sourcesContent":["<h3 class=\"p-3 text-center\">Gerencial Empresa</h3>\n<div class=\"container\">\n  <div class=\"row topo\">\n    <div class=\"col-lg-9 col-md-9 col-sm-9\">\n      <h4>Bem vindo(a) {{empresa.nome_fantasia}}</h4>\n    </div>\n    <div class=\"col-lg-3 col-md-3 col-sm-3\">\n      <button class=\"btn btn-success\" [routerLink]=\"['/cadastrar-anuncio']\"><i class=\"fa fa-plus\"></i> Novo anúncio</button>\n      <button class=\"btn btn-outline-primary\" routerLink=\"\"><i class=\"fa fa-home\"></i> Início</button>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col\">\n      <span>Você tem <strong>{{empresa.anuncios.length}}</strong> anúncios ativos na plataforma.</span>\n    </div>\n  </div>\n    <div class=\"row\">\n      <div class=\"col\">\n        <span>Você pode cadastrar mais <strong>{{anunciosNaoPublicados}}</strong> anúncios.</span>\n      </div>\n    </div>\n\n    <table class=\"table table-striped table-bordered text-center\">\n        <thead>\n            <tr>\n                <th>Produto</th>\n                <th>Preço</th>\n                <th>Validade da Promoção</th>\n                <th>Observação</th>\n                <th>Cliques</th>\n            </tr>\n        </thead>\n        <tbody class=\"text-center\">\n            <tr *ngFor=\"let anuncio of anuncios\">\n                <td>{{anuncio.descricao}}</td>\n                <td>{{anuncio.preco | currency: 'BRL'}}</td>\n                <td>{{anuncio.data_validade | date:'dd/MM/yy'}}</td>\n                <td>Produto com validade próxima</td>\n                <td title=\"147 pessoas clicaram no seu produto\">147</td>\n                <button class=\"btn btn-outline-success botoes\" title=\"Ver detalhes\" [routerLink]=\"['/detalhes-anuncio', anuncio.id]\"><i class=\"fa fa-eye\"></i></button>\n                <button class=\"btn btn-outline-primary botoes\" title=\"Editar\" [routerLink]=\"['/cadastrar-anuncio', anuncio.id]\"><i class=\"fa fa-edit\"></i></button>\n                <button class=\"btn btn-outline-danger botoes\" title=\"Apagar\"><i class=\"fa fa-eraser\"></i></button>\n            </tr>\n        </tbody>\n    </table>\n</div>\n","import { NgxSpinnerService } from 'ngx-spinner';\nimport { EmpresaService } from './../../../Services/EmpresaService';\nimport { Component, Input, OnInit } from '@angular/core';\nimport { Empresa } from 'src/app/Models/Empresa';\nimport { Anuncio } from 'src/app/Models/Anuncio';\n\n@Component({\n  selector: 'app-gerencial-empresa',\n  templateUrl: './gerencial-empresa.component.html',\n  styleUrls: ['./gerencial-empresa.component.css']\n})\nexport class GerencialEmpresaComponent implements OnInit {\n\n  @Input() empresa!: Empresa;\n  public anuncios: Anuncio[] = [];\n  anunciosNaoPublicados: number = 0;\n\n  constructor(\n    private empresaService: EmpresaService,\n    private spinner: NgxSpinnerService) { }\n\n  ngOnInit(): void {\n    this.BuscarEmpresa();\n  }\n\n\n  BuscarEmpresa() {\n    debugger;\n    this.spinner.show();\n    this.empresaService.BuscarEmpresaESeusAnuncios(\"3\")\n      .subscribe((result) => {\n        debugger;\n        if (result != null) {\n          this.empresa = result;\n          this.anuncios = result.anuncios\n          this.anunciosNaoPublicados = (result.quantidade_anuncios - result.anuncios.length)\n          setTimeout(() =>{\n            this.spinner.hide();\n          }, 500);\n        }\n        else{\n          setTimeout(() =>{\n            this.spinner.hide();\n          }, 500);\n          alert(\n            `$ Nenhuma empresa encontrada. Verifique a conexão com a internet.`\n          );\n        }\n      }\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}